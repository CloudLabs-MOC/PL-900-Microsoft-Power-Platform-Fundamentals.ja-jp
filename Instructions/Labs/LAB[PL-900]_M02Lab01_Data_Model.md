---
lab:
  title: ラボ 1:データ モデリング
  module: 'Module 2: Introduction to Microsoft Dataverse'
ms.openlocfilehash: c3ea362eebf9156f069a9ab8635859e6186c1626
ms.sourcegitcommit: 0118c25a230425d0ccba16e6c3922053ee07c183
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/06/2022
ms.locfileid: "144810910"
---
# <a name="module-2-introduction-to-microsoft-dataverse"></a>モジュール 2: Microsoft Dataverse の概要

# <a name="scenario"></a>シナリオ

ベローズ カレッジは、キャンパス内に複数の建物を持つ教育機関です。 キャンパス訪問は現在、紙の記録簿に記録されています。 その情報は一貫して把握されておらず、キャンパス全体の訪問に関するデータを収集して分析する手段もありません。

キャンパスの管理者は、建物へのアクセスがセキュリティ担当者によって管理され、すべての訪問者がホストによって事前に登録され、記録されることが要求される訪問者登録システムを近代化したいと考えています。

このコース全体を通して、アプリケーションを構築するとともに自動化を行って、ベローズ カレッジの管理担当者とセキュリティ担当者がキャンパス内の建物へのアクセスを管理および制御できるようにします。

このラボでは、環境をセットアップし、Microsoft Dataverse データベースを作成し、変更を追跡するソリューションを作成します。 また、次の要件をサポートするデータ モデルも作成します。

-   R1 - スケジュールされたキャンパス訪問の情報を追跡します

-   R2 – 訪問者を識別し、追跡するための基本情報を記録します

-   R3 – 訪問をスケジュール、記録、および管理します

最後に、サンプル データを Microsoft Dataverse にインポートします。

# <a name="high-level-lab-steps"></a>ラボ手順の概要

学習環境を準備するには、次の手順を実行します。

* ソリューションと発行元を作成します
* アプリケーション要件を満たすために必要な新規コンポーネントと既存のコンポーネントの両方を追加します。 メタデータの説明 (テーブルおよびリレーションシップ) については、「[データ モデル ドキュメント](https://github.com/MicrosoftLearning/PL-900-Microsoft-Power-Platform-Fundamentals/blob/master/Allfiles/Campus%20Management.png)」を参照してください。 Ctrl キーを押しながらクリックするか、リンクを右クリックして、データ モデル ドキュメントを新しいウィンドウで開くことができます。
* 訪問テーブルを作成する
* Excel スプレッドシートを使用して訪問データをインポートする

## <a name="prerequisites"></a>前提条件:

-   **モジュール 0 ラボ 0 - ラボ環境の検証** の完了

## <a name="things-to-consider-before-you-begin"></a>始める前に考慮すべきこと

-   名前付け規則 - 名前は、十分注意して入力してください。

# <a name="exercise-1-create-new-table"></a>演習 \#1:新しいテーブルを作成する

**目的:** このテーブルでは、新しいカスタム テーブル "訪問" を作成します。 

## <a name="task--1-create-visit-table-and-columns"></a>タスク \# 1: 訪問テーブルと列を作成する

**訪問** テーブルには、訪問者、スケジュールされた時間、各訪問の実際の時間などのキャンパス訪問に関する情報が含まれます。

訪問チェックイン プロセス中に尋ねられたときに、訪問者が簡単に入力して解釈できる一意の番号を毎回ごとの訪問に割り当てたいと思います。

>   訪問の時刻は常に建物の場所に対してローカルであり、異なるタイム ゾーンから表示しても変更してはならないため、**タイム ゾーン非依存** 動作を使用して、日付と時刻の情報を記録します。

1.  <https://make.powerapps.com>にサインインします (まだサインインしていない場合)

2.  **[[自分のイニシャル] 練習]** 環境がまだ選択されていない場合は、右上で選択します。

3.  左側のナビゲーションを使用して [Dataverse] を展開し、[テーブル] を選択します。

4.  **[新しいテーブル]** をクリックします。

5.  **[表示名]** に「**訪問**」と入力します。

6.  **Create** をクリックしてください。 これにより、他の列の追加を開始する間に、バックグラウンドでテーブルのプロビジョニングが開始されます。

7.  「開始予定」列を作成します

    1.  [訪問テーブルの列] ページが表示されます。

    2.  「**列**」タブを選択して、「**列の追加**」をクリックします。

    3.  **[表示名]** に「**開始予定**」と入力します。

    4.  **[データの種類]** で **[日付と時刻]** を選択します。

    5.  「**必須**」で「**必須**」を選択します。

    6.  「**詳細オプション**」セクションを展開します。

    7.  「**動作**」で、「**タイム ゾーン非依存**」を選択します。

    8.  **[Done]** をクリックします。

8.  「終了予定」列を作成します

    1.  「**列の追加**」をクリックします。

    2.  **[表示名]** に「**終了予定**」と入力します。

    3.  **[データの種類]** で **[日付と時刻]** を選択します。

    4.  「**必須**」で「**必須**」を選択します。

    5.  「**詳細オプション**」セクションを展開します。

    6.  「**動作**」で、「**タイム ゾーン非依存**」を選択します。

    7.  **[Done]** をクリックします。

9.  「実際の開始」列を作成します

    1.  「**列の追加**」をクリックします。

    2.  **[表示名]** に「**実際の開始**」と入力します。

    3.  **[データの種類]** で **[日付と時刻]** を選択します。

    4.  「**必須**」フィールドで、これを「**任意**」のままにします。

    5.  「**詳細オプション**」セクションを展開します。

    6.  「**動作**」で、「**タイム ゾーン非依存**」を選択します。

    7.  **[Done]** をクリックします。

10. 「実際の終了」列を作成します

    1.  「**列の追加**」をクリックします。

    2.  **[表示名]** に「**実際の終了**」と入力します。

    3.  **[データの種類]** で **[日付と時刻]** を選択します。

    4.  「**必須**」フィールドで、これを「**任意**」のままにします。

    5.  「**詳細オプション**」セクションを展開します。

    6.  「**動作**」で、「**タイム ゾーン非依存**」を選択します。

    7.  **[Done]** をクリックします。

11. 「コード」列を作成します

    1.  「**列の追加**」をクリックします。

    2.  **[表示名]** に「**コード**」と入力します。

    3.  **[データの種類]** で **[オートナンバー]** を選択します。
    
    4.  「**オートナンバー型**」に「**日付接頭辞番号**」を選択します。

    5.  **[Done]** をクリックします。

12. 訪問者の検索列を作成します

    1.  「**列の追加**」をクリックします。

    2.  **[表示名]** に「**訪問者**」と入力します。

    3.  **[データの種類]** で **[検索]** を選択します。

    4.  **[関連テーブル]** で **[連絡先]** を選択します。

    5.  「**詳細オプション**」セクションを展開します。
    
    6.  **[リレーションシップ名]** に「**visitor_id**」と入力します。
    
    7.  **[Done]** をクリックします。

13. 右下の **[テーブルの保存]** をクリックします。

# <a name="exercise-2-import-data"></a>演習 \#2:データをインポートする

**目的:** この演習では、サンプル データを Dataverse データベースにインポートします。

## <a name="task-1-import-the-visitsxls-file"></a>タスク \#1:Visits.xls ファイルをインポートする

このタスクでは、Excel ファイルから訪問データをインポートします。 

1.  **Visits.xls** ファイルがデスクトップに格納されている必要があります。 [Visits.xls](https://github.com/MicrosoftLearning/PL-900-Microsoft-Power-Platform-Fundamentals/raw/master/Allfiles/Visits.xlsx) をまだダウンロードしていない場合は、ダウンロードします。

2.  <https://make.powerapps.com> にまだサインインしていない場合は、サインインします。

3.  **[[自分のイニシャル] 練習]** 環境がまだ選択されていない場合は、右上で選択します。

4.  左側のナビゲーションを使用して **[Dataverse]** を展開し、[テーブル] を選択します。
    >   画面に "データ \> テーブル" と表示される場合があります。 

5.  前の演習で作成した **訪問** テーブルを見つけて開きます。

6.  上部のメニューを使用して、 **[データ]** の横にあるドロップダウン矢印を選択し、 **[データの取得]** の横にある矢印を選択し、 **[Excel からデータを取得]** を選択します。

7.  表示されたメニューで、 **[アップロード]** ボタンを選択します。

8.  以前にダウンロードした **[Visits.xls]** を見つけて選択します。 "(このファイルのアップロードには、1 から 2 分かかる場合があります。*マッピング エラーが存在するというメッセージが表示されても心配しないでください。次にそれらを修正します。)"*

9. **[列のマッピング]** を選択します。

10. 次に示すように列をマップします。

    | 訪問 Db の列 | ソースの値   |
    |------------------|-----------------|
    | 実際の終了       | 実際の終了      |
    | 実際の開始     | 実際の開始    |
    | コード             | コード            |
    | 名前             | 名前            |
    | 終了予定    | 終了予定   |
    | 開始予定  | 開始予定 |

11. 残りのフィールドはすべて **[未設定]** のままにしておきます。

12. 画面の右上隅にある **[変更の保存]** を選択します。

13. **[データのインポート]** 画面で、マッピング状態として "マッピングが正常に完了" が表示されていることを確認します。

14. 右上隅にある **[インポート]** ボタンを選択し、データのインポートを完了します。

**注:**  "データがテーブルにインポートされるまで数分かかる場合があります。*いくつかのエラーが発生しても心配しないでください。これは正常であり、コースの残りの部分には影響しません。"*

## <a name="task-2-verify-data-import"></a>タスク \#2:データのインポートを確認する

1.  データがインポートされたら、画面の左側にあるナビゲーションを使用して、 **[訪問]** テーブルを再度選択します。

2.  訪問テーブルには多数のタブがあることに注意してください。 たとえば、[Cikynns]、[リレーションシップ]、[ビジネス ルール]、[ビュー] などです。 

3.  訪問テーブルの **[データ]** タブを選びます。 これは **[テーブル]** \> **[訪問]** の下にあります。

3.  テーブルにレコードがあることを確認します。 ビューを変更するには、右上隅のビュー名を選び、 **[すべての列]** に変更します。 

これで、正常に新しいテーブルが作成され、データがインポートされました。
